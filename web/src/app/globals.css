@import "tailwindcss";
@import "tw-animate-css";

/*
 * Alpha Board Design System â€” E-Ink Aesthetic
 * See: docs/DESIGN_SYSTEM.md
 *
 * Dark-only theme with monochrome palette.
 * Color reserved for semantic meaning (bullish/bearish).
 */

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Core colors mapped to Tailwind */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* shadcn/ui compatibility */
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Radius scale */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-full: 9999px;
}

/*
 * E-Ink Dark Theme (default and only theme)
 * Colors from DESIGN_SYSTEM.md
 */
:root {
  /* Background layers */
  --bg-base: #0A0A0A;
  --bg-surface: #141414;
  --bg-elevated: #1C1C1C;
  --bg-muted: #262626;

  /* Foreground / Text */
  --text-primary: #E8E8E8;
  --text-secondary: #A0A0A0;
  --text-muted: #7A7A7A;
  --text-tertiary: #808080;
  --text-ghost: #666666;

  /* Borders */
  --border-default: #262626;
  --border-subtle: #1C1C1C;
  --border-strong: #404040;

  /* Semantic: Bullish */
  --bullish-strong: #22C55E;
  --bullish-muted: #166534;
  --bullish-subtle: #14532D;

  /* Semantic: Bearish */
  --bearish-strong: #EF4444;
  --bearish-muted: #991B1B;
  --bearish-subtle: #7F1D1D;

  /* Semantic: Neutral */
  --neutral-strong: #FBBF24;
  --neutral-muted: #92400E;

  /* Accent colors (non-semantic) */
  --accent-blue: #60A5FA;
  --accent-blue-muted: #1E3A5F;
  --accent-blue-subtle: #172554;
  --accent-purple: #C084FC;
  --accent-purple-muted: #581C87;
  --accent-purple-subtle: #3B0764;
  --accent-teal: #2DD4BF;
  --accent-teal-muted: #115E59;
  --accent-teal-subtle: #042F2E;
  --accent-orange: #FB923C;
  --accent-orange-muted: #9A3412;
  --accent-orange-subtle: #7C2D12;
  --accent-cyan: #22D3EE;
  --accent-cyan-muted: #155E75;
  --accent-cyan-subtle: #083344;
  --accent-yellow: #FACC15;
  --accent-yellow-muted: #854D0E;
  --accent-yellow-subtle: #713F12;
  --accent-zinc: #A1A1AA;
  --accent-zinc-muted: #3F3F46;
  --accent-zinc-subtle: #27272A;

  /* Status indicators */
  --status-connected: #22C55E;
  --status-disconnected: #7A7A7A;

  /* Badge colors */
  --badge-danger: #EF4444;

  /* Spacing (4px base) */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;
  --space-12: 48px;

  /* Transitions */
  --transition-fast: 100ms ease-out;

  /* Map to shadcn/ui variables */
  --background: var(--bg-base);
  --foreground: var(--text-primary);
  --card: var(--bg-surface);
  --card-foreground: var(--text-primary);
  --popover: var(--bg-surface);
  --popover-foreground: var(--text-primary);
  --primary: var(--text-primary);
  --primary-foreground: var(--bg-base);
  --secondary: var(--bg-muted);
  --secondary-foreground: var(--text-primary);
  --muted: var(--bg-muted);
  --muted-foreground: var(--text-secondary);
  --accent: var(--bg-elevated);
  --accent-foreground: var(--text-primary);
  --destructive: var(--bearish-strong);
  --border: var(--border-default);
  --input: var(--border-default);
  --ring: var(--border-strong);
  --radius: 6px;
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(calc(-1 * var(--marquee-width, 50%))); }
}

@keyframes trade-highlight {
  0% { background-color: rgba(34, 197, 94, 0.15); box-shadow: inset 3px 0 0 var(--bullish-strong); }
  70% { background-color: rgba(34, 197, 94, 0.08); box-shadow: inset 3px 0 0 var(--bullish-strong); }
  100% { background-color: transparent; box-shadow: inset 3px 0 0 transparent; }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Focus ring per DESIGN_SYSTEM.md */
  :focus-visible {
    outline: 2px solid var(--border-strong);
    outline-offset: 2px;
  }
}

@layer utilities {
  /* Text colors from design system */
  .text-primary {
    color: var(--text-primary);
  }
  .text-secondary {
    color: var(--text-secondary);
  }
  .text-muted {
    color: var(--text-muted);
  }
  .text-tertiary {
    color: var(--text-tertiary);
  }
  .text-ghost {
    color: var(--text-ghost);
  }

  /* Semantic colors */
  .text-bullish {
    color: var(--bullish-strong);
  }
  .text-bearish {
    color: var(--bearish-strong);
  }
  .text-neutral-signal {
    color: var(--neutral-strong);
  }

  .bg-bullish {
    background-color: var(--bullish-subtle);
  }
  .bg-bearish {
    background-color: var(--bearish-subtle);
  }
  .bg-neutral-signal {
    background-color: var(--neutral-muted);
  }

  /* Background layers */
  .bg-base {
    background-color: var(--bg-base);
  }
  .bg-surface {
    background-color: var(--bg-surface);
  }
  .bg-elevated {
    background-color: var(--bg-elevated);
  }

  /* Marquee animation for consensus banner */
  .marquee-container {
    animation: marquee var(--marquee-duration, 30s) linear infinite;
    width: max-content;
  }

  .marquee-content {
    flex-shrink: 0;
  }

  /* Trade highlight animation for ranking rows */
  .animate-trade-highlight {
    animation: trade-highlight 5s ease-out forwards;
  }

  /* Transition helper */
  .transition-colors-fast {
    transition: background-color var(--transition-fast),
                border-color var(--transition-fast),
                color var(--transition-fast);
  }
}
